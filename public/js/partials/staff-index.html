<section class="page staff container-fluid" id="staff-index">
  <div class="row">
    <div class="col-xs-12">
      <h2>Staff</h2>
    </div>
  </div>
  <div class="row duty-worker">
  </div>
  <div class="row">
    <div class="col-xs-12">
      <filter-tabs tabs="vm.teams" active="vm.activeTab" default=""></filter-tabs>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-6">
      <p>Showing {{ vm.counts.filtered_staff }} out of {{ vm.counts.total_staff }}</p>
    </div>
    <div class="col-xs-6 text-right">
      <button class="btn btn-primary" ui-sref="app.staff.new">
        <span class="fa fa-upload"></span>&nbsp;Add a new staff member
      </button>
    </div>
  </div>
  <div class="staff-listing">
    <table class="table table-condensed">
      <thead>
        <tr>
          <!--<th>&nbsp;</th>-->
          <th>Name / Role</th>
          <th>Team</th>
          <th>Duty Worker</th>
          <th>In/Out</th>
          <th>Update</th>
        </tr>
      </thead>
      <tbody>
        <tr class="staff-member" ng-repeat="staff_member in vm.staff | filter:vm.activeTab">
          <!--<td class="staff-member-avatar text-center"><span class="fa fa-user fa-2x"></span></td>-->
          <td class="staff-member-details-staff">
            <span class="staff-member-details-name">{{ staff_member.name }}</span><br/>
            <span class="staff-member-details-role">{{ staff_member.organisation.role }}</span>
          </td>
          <td class="staff-member-details-team">{{ staff_member.organisation.team }}</td>
          <td class="staff-member-details-duty-worker">
            <span ng-if="staff_member.status.duty_worker" class="fa fa-check"></span>
          </td>
          <td class="staff-member-status staff-member-status-in" ng-if="staff_member.status.in">
            <span class="staff-member-status-text">In</span>&nbsp;
            <span class="fa fa-circle"></span>
          </td>
          <td class="staff-member-status staff-member-status-out" ng-if="!staff_member.status.in">
            <span class="staff-member-status-text">Out</span>&nbsp;
            <span class="fa fa-circle"></span>
          </td>
          <td class="staff-member-update">
            <button class="btn" type="button" ui-sref='app.staff.update({id:staff_member._id})'>
              Update details&nbsp;<span class="fa fa-pencil"></span>
            </button>
            &nbsp;
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
